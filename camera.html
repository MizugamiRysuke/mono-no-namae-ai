<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="„ÇÇ„ÅÆ„ÅÆÂêçÂâçAI">
    <title>„Ç´„É°„É©ÊíÆÂΩ± - „ÇÇ„ÅÆ„ÅÆÂêçÂâç„Åä„Åó„Åà„Åæ„ÅôAI</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Hiragino Sans', sans-serif;
            background: #000;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        
        .camera-container {
            flex: 1;
            position: relative;
            display: flex;
            flex-direction: column;
        }
        
        .video-container {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        #cameraVideo {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .camera-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
        }
        
        .focus-area {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            border: 3px solid rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.8; transform: translate(-50%, -50%) scale(1); }
            50% { opacity: 0.4; transform: translate(-50%, -50%) scale(1.05); }
        }
        
        .floating-controls {
            position: fixed;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 40px;
        }
        
        .controls-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px 20px;
            padding-bottom: calc(env(safe-area-inset-bottom, 15px) + 15px);
            z-index: 999;
        }
        
        .control-btn {
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .capture-btn {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            color: #e74c3c;
            border: 6px solid #e74c3c;
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.6);
            font-size: 40px;
            width: 120px;
            height: 120px;
        }
        
        .capture-btn:active {
            transform: scale(0.95);
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        }
        
        .switch-btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.4);
            font-size: 22px;
            width: 70px;
            height: 70px;
        }
        
        .gallery-btn {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            box-shadow: 0 4px 15px rgba(155, 89, 182, 0.4);
            font-size: 22px;
            width: 70px;
            height: 70px;
        }
        
        .control-btn:active {
            transform: scale(0.95);
        }
        
        .status-text {
            color: white;
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            line-height: 1.4;
        }
        
        .back-button {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            z-index: 100;
            transition: all 0.3s ease;
        }
        
        .back-button:hover {
            background: rgba(0, 0, 0, 0.8);
        }
        
        .captured-image {
            display: none;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .recognition-panel {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.98);
            padding: 30px 25px;
            border-radius: 20px;
            text-align: center;
            z-index: 2000;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            max-width: 90vw;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .recognition-result {
            margin-bottom: 15px;
        }
        
        .object-name {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
        }
        
        .confidence-score {
            font-size: 16px;
            color: #27ae60;
            font-weight: 600;
        }
        
        .object-description {
            font-size: 16px;
            color: #7f8c8d;
            line-height: 1.5;
            margin: 15px 0;
        }
        
        .action-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .action-btn {
            padding: 15px 20px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.2);
        }
        
        .action-btn:active {
            transform: translateY(0);
        }
        
        .btn-retry {
            background: #3498db;
            color: white;
        }
        
        .btn-save {
            background: #27ae60;
            color: white;
        }
        
        .btn-speak {
            background: #e74c3c;
            color: white;
        }
        
        .loading-overlay {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 200;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            color: white;
            font-size: 18px;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="camera-container">
        <button class="back-button" onclick="goBack()">‚Üê Êàª„Çã</button>
        
        <div class="loading-overlay" id="loadingOverlay">
            <div class="spinner"></div>
            <div class="loading-text">AIË™çË≠ò‰∏≠...</div>
        </div>
        
        <div class="video-container">
            <video id="cameraVideo" autoplay muted playsinline></video>
            <canvas id="captureCanvas" style="display: none;"></canvas>
            <img id="capturedImage" class="captured-image">
            
            <div class="camera-overlay">
                <div class="focus-area"></div>
            </div>
        </div>
        
        <div class="recognition-panel" id="recognitionPanel">
            <div class="recognition-result">
                <div class="object-name" id="objectName">-</div>
                <div class="confidence-score" id="confidenceScore">-</div>
            </div>
            <div class="object-description" id="objectDescription">-</div>
            
            <div class="action-buttons">
                <button class="action-btn btn-retry" onclick="retryCapture()">üì∑ Á∂ö„Åë„Å¶ÊíÆÂΩ±</button>
                <button class="action-btn btn-save" onclick="saveToFavorites()">üíñ ‰øùÂ≠ò„Åó„Å¶Á∂öË°å</button>
                <button class="action-btn btn-speak" onclick="speakResult()">üîä „ÇÇ„ÅÜ‰∏ÄÂ∫¶ËÅû„Åè</button>
            </div>
        </div>
        
        <div class="floating-controls">
            <button class="control-btn gallery-btn" onclick="openGallery()" title="„ÇÆ„É£„É©„É™„Éº">
                üñºÔ∏è
            </button>
            
            <button class="control-btn capture-btn" onclick="capturePhoto()" id="captureBtn" title="ÊíÆÂΩ±">
                üì∑
            </button>
            
            <button class="control-btn switch-btn" onclick="switchCamera()" title="„Ç´„É°„É©ÂàáÊõø">
                üîÑ
            </button>
        </div>
        
        <div class="controls-panel">
            <div class="status-text" id="statusText">Áâ©‰Ωì„Çí„Éï„É¨„Éº„É†ÂÜÖ„Å´Âèé„ÇÅ„Å¶ÊíÆÂΩ±„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶„Åè„Å†„Åï„ÅÑ</div>
        </div>
    </div>

    <script>
        // „Ç∞„É≠„Éº„Éê„É´Â§âÊï∞
        let currentStream = null;
        let currentFacingMode = 'environment'; // 'user' or 'environment'
        let capturedImageData = null;
        let currentRecognitionResult = null;
        
        // ÂàùÊúüÂåñ
        window.addEventListener('load', initializeCamera);
        
        async function initializeCamera() {
            updateStatus('„Ç´„É°„É©„ÇíÂàùÊúüÂåñ„Åó„Å¶„ÅÑ„Åæ„Åô...');
            
            try {
                const stream = await navigator.mediaDevices.getUserMedia({
                    video: {
                        facingMode: currentFacingMode,
                        width: { ideal: 1280 },
                        height: { ideal: 720 }
                    }
                });
                
                const video = document.getElementById('cameraVideo');
                video.srcObject = stream;
                currentStream = stream;
                
                updateStatus('Áâ©‰Ωì„Çí„Éï„É¨„Éº„É†ÂÜÖ„Å´Âèé„ÇÅ„Å¶ÊíÆÂΩ±„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
                
                // „Ç¶„Çß„É´„Ç´„É†„É°„ÉÉ„Çª„Éº„Ç∏
                setTimeout(() => {
                    speak('„Ç´„É°„É©„ÅåÊ∫ñÂÇô„Åß„Åç„Åæ„Åó„Åü„ÄÇÁâ©‰Ωì„Çí„Éï„É¨„Éº„É†ÂÜÖ„Å´Âèé„ÇÅ„Å¶„ÄÅÊíÆÂΩ±„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
                }, 1000);
                
            } catch (error) {
                console.error('„Ç´„É°„É©„Ç®„É©„Éº:', error);
                updateStatus('„Ç´„É°„É©„Å´„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Åæ„Åõ„Çì');
                alert('‚ö†Ô∏è „Ç´„É°„É©„Ç®„É©„Éº\n\n„Ç´„É°„É©„ÅÆ‰ΩøÁî®„ÇíË®±ÂèØ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ\n\nË®≠ÂÆö ‚Üí Safari ‚Üí „Ç´„É°„É©');
            }
        }
        
        function updateStatus(message) {
            document.getElementById('statusText').textContent = message;
        }
        
        function speak(text) {
            if ('speechSynthesis' in window) {
                try {
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.lang = 'ja-JP';
                    utterance.rate = 0.8;
                    speechSynthesis.speak(utterance);
                } catch (error) {
                    console.error('Èü≥Â£∞„Ç®„É©„Éº:', error);
                }
            }
        }
        
        async function capturePhoto() {
            if (!currentStream) return;
            
            // ÊíÆÂΩ±„Éú„Çø„É≥„Çí‰∏ÄÊôÇÁöÑ„Å´ÁÑ°ÂäπÂåñ
            const captureBtn = document.getElementById('captureBtn');
            captureBtn.disabled = true;
            captureBtn.style.opacity = '0.6';
            
            updateStatus('ÂÜôÁúü„ÇíÊíÆÂΩ±‰∏≠...');
            
            const video = document.getElementById('cameraVideo');
            const canvas = document.getElementById('captureCanvas');
            const capturedImage = document.getElementById('capturedImage');
            
            // „Ç≠„É£„É≥„Éê„Çπ„ÅÆ„Çµ„Ç§„Ç∫„ÇíÂãïÁîª„Å´Âêà„Çè„Åõ„Çã
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            
            // ÂãïÁîª„Éï„É¨„Éº„É†„Çí„Ç≠„É£„É≥„Éê„Çπ„Å´ÊèèÁîª
            const ctx = canvas.getContext('2d');
            ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
            
            // ÁîªÂÉè„Éá„Éº„Çø„ÇíÂèñÂæó
            capturedImageData = canvas.toDataURL('image/jpeg', 0.8);
            
            // „Ç≠„É£„Éó„ÉÅ„É£„Åó„ÅüÁîªÂÉè„ÇíË°®Á§∫
            capturedImage.src = capturedImageData;
            capturedImage.style.display = 'block';
            video.style.display = 'none';
            
            // ÊíÆÂΩ±Èü≥ÂäπÊûú
            playShutterSound();
            
            // AIË™çË≠ò„ÇíÈñãÂßã
            await performObjectRecognition(capturedImageData);
        }
        
        function playShutterSound() {
            // ÊíÆÂΩ±„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØÔºàË¶ñË¶öÂäπÊûúÔºâ
            const overlay = document.querySelector('.camera-overlay');
            overlay.style.background = 'rgba(255, 255, 255, 0.8)';
            setTimeout(() => {
                overlay.style.background = 'transparent';
            }, 150);
        }
        
        async function performObjectRecognition(imageData) {
            showLoadingOverlay();
            updateStatus('AIË™çË≠òÂá¶ÁêÜ‰∏≠...');
            
            // „É¢„ÉÉ„ÇØË™çË≠òÂá¶ÁêÜÔºàÂÆüÈöõ„ÅÆAPI„Å´ÁΩÆ„ÅçÊèõ„ÅàÂèØËÉΩÔºâ
            await simulateAIRecognition();
        }
        
        async function simulateAIRecognition() {
            try {
                // Google Vision API „Çí‰ΩøÁî®„Åó„ÅüÂÆüÈöõ„ÅÆAIË™çË≠ò„ÇíË©¶Ë°å
                const result = await callGoogleVisionAPI(capturedImageData);
                if (result) {
                    currentRecognitionResult = result;
                    displayRecognitionResult(result);
                    return;
                }
            } catch (error) {
                console.log('Google Vision APIÂà©Áî®‰∏çÂèØ„ÄÅ„É¢„ÉÉ„ÇØË™çË≠ò„Çí‰ΩøÁî®:', error);
            }
            
            // Êó•Â∏∏ÁîüÊ¥ª„ÅßÂõ∞„Çâ„Å™„ÅÑ„É¨„Éô„É´„ÅÆË©≥Á¥∞„Å™Ë™çË≠ò„Éë„Çø„Éº„É≥
            const comprehensiveRecognitionResults = [
                // È£ü„ÅπÁâ©„ÉªÈ£≤„ÅøÁâ©
                {
                    name: '„Çä„Çì„Åî',
                    confidence: 95,
                    description: 'Ëµ§„ÅÑ„Çä„Çì„Åî„Åß„Åô„ÄÇ„É™„É≥„Ç¥Áßë„ÅÆÊûúÂÆü„Åß„ÄÅ„Éì„Çø„Éü„É≥C„Å®È£üÁâ©ÁπäÁ∂≠„ÅåË±äÂØå„Åß„Åô„ÄÇÁöÆ„Åî„Å®È£ü„Åπ„Çã„Å®Ê†ÑÈ§ä‰æ°„ÅåÈ´ò„Åè„Å™„Çä„Åæ„Åô„ÄÇ',
                    category: 'È£ü„ÅπÁâ©',
                    tips: 'ÂÜ∑ËîµÂ∫´„Åß‰øùÂ≠ò„Åô„Çã„Å®Èï∑ÊåÅ„Å°„Åó„Åæ„Åô'
                },
                {
                    name: '„Éê„Éä„Éä',
                    confidence: 93,
                    description: 'ÈªÑËâ≤„ÅÑ„Éê„Éä„Éä„Åß„Åô„ÄÇ„Ç´„É™„Ç¶„É†„ÅåË±äÂØå„ÅßÁñ≤Âä¥ÂõûÂæ©„Å´ÂäπÊûúÁöÑ„Åß„Åô„ÄÇÁÜüÂ∫¶„Å´„Çà„Å£„Å¶Áîò„Åï„ÅåÂ§â„Çè„Çä„Åæ„Åô„ÄÇ',
                    category: 'È£ü„ÅπÁâ©',
                    tips: 'ÊñëÁÇπ„ÅåÂá∫„Çã„Å®Áîò„Åè„Å™„Çä„Åæ„Åô'
                },
                {
                    name: '„Ç≥„Éº„Éí„Éº„Ç´„ÉÉ„Éó',
                    confidence: 92,
                    description: '„Ç≥„Éº„Éí„Éº„Ç´„ÉÉ„Éó„Åß„Åô„ÄÇÈô∂Âô®Ë£Ω„Åß„ÄÅÊ∏©„Åã„ÅÑÈ£≤„ÅøÁâ©„ÇíÂÖ•„Çå„Çã„ÅÆ„Å´ÈÅ©„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇÂèñ„Å£Êâã„Åå„ÅÇ„Çã„ÅÆ„ÅßÊåÅ„Å°„ÇÑ„Åô„ÅÑ„Åß„Åô„ÄÇ',
                    category: 'È£üÂô®',
                    usage: 'ÁÜ±„ÅÑÈ£≤„ÅøÁâ©Â∞ÇÁî®'
                },
                {
                    name: 'Ê∞¥„ÅÆ„Éö„ÉÉ„Éà„Éú„Éà„É´',
                    confidence: 90,
                    description: '„Éö„ÉÉ„Éà„Éú„Éà„É´„ÅÆÊ∞¥„Åß„Åô„ÄÇ500ml„Åæ„Åü„ÅØ2L„Çµ„Ç§„Ç∫„Åå‰∏ÄËà¨ÁöÑ„Åß„Åô„ÄÇÊ∞¥ÂàÜË£úÁµ¶„Å´Ê¨†„Åã„Åõ„Åæ„Åõ„Çì„ÄÇ',
                    category: 'È£≤„ÅøÁâ©',
                    tips: '1Êó•1.5-2LÁ®ãÂ∫¶„ÅÆÊ∞¥ÂàÜÊëÇÂèñ„ÅåÊé®Â•®„Åï„Çå„Åæ„Åô'
                },
                {
                    name: '„Éë„É≥',
                    confidence: 88,
                    description: 'È£ü„Éë„É≥„Åæ„Åü„ÅØËèìÂ≠ê„Éë„É≥„Åß„Åô„ÄÇÁÇ≠Ê∞¥ÂåñÁâ©„ÅåË±äÂØå„Åß„Ç®„Éç„É´„ÇÆ„ÉºÊ∫ê„Å´„Å™„Çä„Åæ„Åô„ÄÇ',
                    category: 'È£ü„ÅπÁâ©',
                    tips: 'ÂÜ∑Âáç‰øùÂ≠ò„ÅßÈï∑Êúü‰øùÂ≠òÂèØËÉΩ'
                },
                {
                    name: 'Áâõ‰π≥„Éë„ÉÉ„ÇØ',
                    confidence: 91,
                    description: 'Áâõ‰π≥„Éë„ÉÉ„ÇØ„Åß„Åô„ÄÇ„Ç´„É´„Ç∑„Ç¶„É†„Å®„Çø„É≥„Éë„ÇØË≥™„ÅåË±äÂØå„Åß„Åô„ÄÇÈñãÂ∞ÅÂæå„ÅØÂÜ∑ËîµÂ∫´„Åß‰øùÂ≠ò„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
                    category: 'È£≤„ÅøÁâ©',
                    tips: 'ÈñãÂ∞ÅÂæå„ÅØ3-4Êó•‰ª•ÂÜÖ„Å´Ê∂àË≤ª'
                },
                
                // ÈõªÂ≠êÊ©üÂô®
                {
                    name: '„Çπ„Éû„Éº„Éà„Éï„Ç©„É≥',
                    confidence: 97,
                    description: 'iPhone„Åæ„Åü„ÅØAndroid„Çπ„Éû„Éº„Éà„Éï„Ç©„É≥„Åß„Åô„ÄÇÈõªË©±„ÄÅ„Ç§„É≥„Çø„Éº„Éç„ÉÉ„Éà„ÄÅ„Ç´„É°„É©„Å™„Å©Â§öÊ©üËÉΩ„Å™Êê∫Â∏ØÁ´ØÊú´„Åß„Åô„ÄÇ',
                    category: 'ÈõªÂ≠êÊ©üÂô®',
                    features: 'ÈÄöË©±„ÄÅ„É°„Éº„É´„ÄÅ„Ç§„É≥„Çø„Éº„Éç„ÉÉ„Éà„ÄÅ„Ç´„É°„É©'
                },
                {
                    name: '„ÉÜ„É¨„Éì„ÅÆ„É™„É¢„Ç≥„É≥',
                    confidence: 89,
                    description: '„ÉÜ„É¨„Éì„É™„É¢„Ç≥„É≥„Åß„Åô„ÄÇ„ÉÅ„É£„É≥„Éç„É´Â§âÊõ¥„ÇÑÈü≥ÈáèË™øÊï¥„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇÈõªÊ±†Âàá„Çå„Å´Ê≥®ÊÑè„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
                    category: 'ÈõªÂ≠êÊ©üÂô®',
                    tips: 'ÈõªÊ±†„ÅØÂçò4„Åæ„Åü„ÅØÂçò3„Åå‰∏ÄËà¨ÁöÑ'
                },
                {
                    name: '„Éé„Éº„Éà„Éë„ÇΩ„Ç≥„É≥',
                    confidence: 94,
                    description: '„Éé„Éº„Éà„Éë„ÇΩ„Ç≥„É≥„Åß„Åô„ÄÇÊåÅ„Å°ÈÅã„Å≥ÂèØËÉΩ„Å™„Ç≥„É≥„Éî„É•„Éº„Çø„Éº„Åß„ÄÅ‰ªï‰∫ã„ÇÑÂ≠¶Áøí„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ',
                    category: 'ÈõªÂ≠êÊ©üÂô®',
                    usage: 'ÊñáÊõ∏‰ΩúÊàê„ÄÅ„Ç§„É≥„Çø„Éº„Éç„ÉÉ„Éà„ÄÅÂãïÁîªË¶ñËÅ¥'
                },
                {
                    name: '„Ç§„É§„Éõ„É≥',
                    confidence: 86,
                    description: '„Ç§„É§„Éõ„É≥„Åß„Åô„ÄÇÈü≥Ê•Ω„ÇÑÈÄöË©±„ÇíÂÄã‰∫∫ÁöÑ„Å´ËÅû„Åè„Åü„ÇÅ„ÅÆÊ©üÂô®„Åß„Åô„ÄÇÊúâÁ∑ö„Åæ„Åü„ÅØ„ÉØ„Ç§„É§„É¨„Çπ„Çø„Ç§„Éó„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ',
                    category: 'ÈõªÂ≠êÊ©üÂô®',
                    tips: 'Èü≥Èáè„ÅØÈÅ©Â∫¶„Å´Ë™øÊï¥„Åó„Åæ„Åó„Çá„ÅÜ'
                },
                
                // Êó•Áî®ÂìÅ„ÉªÁîüÊ¥ªÁî®ÂìÅ
                {
                    name: '„ÉÜ„Ç£„ÉÉ„Ç∑„É•„Éú„ÉÉ„ÇØ„Çπ',
                    confidence: 92,
                    description: '„ÉÜ„Ç£„ÉÉ„Ç∑„É•„Éö„Éº„Éë„Éº„ÅÆÁÆ±„Åß„Åô„ÄÇÈºª„Çí„Åã„Çì„Å†„Çä„ÄÅÁâ©„ÇíÊã≠„ÅÑ„Åü„Çä„Åô„Çã„ÅÆ„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ',
                    category: 'Êó•Áî®ÂìÅ',
                    tips: 'ÊπøÂ∫¶„ÅÆÈ´ò„ÅÑÂ†¥ÊâÄ„ÅØÈÅø„Åë„Å¶‰øùÁÆ°'
                },
                {
                    name: '„Çø„Ç™„É´',
                    confidence: 88,
                    description: '„Çø„Ç™„É´„Åß„Åô„ÄÇÊâã„ÇÑ‰Ωì„ÇíÊã≠„Åè„ÅÆ„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇÊ∏ÖÊΩî„Å´‰øù„Å§„Åü„ÇÅÂÆöÊúüÁöÑ„Å´Ê¥óÊøØ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
                    category: 'Êó•Áî®ÂìÅ',
                    tips: 'È¢®ÈÄö„Åó„ÅÆËâØ„ÅÑÂ†¥ÊâÄ„Åß‰πæÁá•„Åï„Åõ„Çã'
                },
                {
                    name: 'Ê≠Ø„Éñ„É©„Ç∑',
                    confidence: 90,
                    description: 'Ê≠Ø„Éñ„É©„Ç∑„Åß„Åô„ÄÇÊ≠ØÁ£®„Åç„Å´‰ΩøÁî®„Åô„ÇãÂè£ËÖî„Ç±„Ç¢Áî®ÂìÅ„Åß„Åô„ÄÇÊØõÂÖà„ÅåÈñã„ÅÑ„Åü„Çâ‰∫§Êèõ„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ',
                    category: 'Ë°õÁîüÁî®ÂìÅ',
                    tips: '1-3„É∂Êúà„Åß‰∫§ÊèõÊé®Â•®'
                },
                {
                    name: '„Éè„É≥„Éâ„ÇØ„É™„Éº„É†',
                    confidence: 85,
                    description: '„Éè„É≥„Éâ„ÇØ„É™„Éº„É†„Åß„Åô„ÄÇÊâã„ÅÆ‰πæÁá•„ÇíÈò≤„Åé„ÄÅËÇå„Çí‰øùË≠∑„Åó„Åæ„Åô„ÄÇÁâπ„Å´ÂÜ¨Â†¥„Å´ÈáçË¶Å„Åß„Åô„ÄÇ',
                    category: 'ÂåñÁ≤ßÂìÅ',
                    usage: 'ÊâãÊ¥ó„ÅÑÂæå„ÇÑÂ∞±ÂØùÂâç„Å´‰ΩøÁî®'
                },
                
                // ÊñáÊàøÂÖ∑„Éª‰∫ãÂãôÁî®ÂìÅ
                {
                    name: '„Éú„Éº„É´„Éö„É≥',
                    confidence: 88,
                    description: '„Éú„Éº„É´„Éö„É≥„Åß„Åô„ÄÇ„Ç§„É≥„ÇØ„ÅßÊñáÂ≠ó„ÇíÊõ∏„Åè„Åü„ÇÅ„ÅÆÁ≠ÜË®òÁî®ÂÖ∑„Åß„Åô„ÄÇÊ≤πÊÄß„ÄÅÊ∞¥ÊÄß„ÄÅ„Ç∏„Çß„É´„Ç§„É≥„ÇØ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ',
                    category: 'ÊñáÊàøÂÖ∑',
                    type: 'Á≠ÜË®òÁî®ÂÖ∑'
                },
                {
                    name: 'ÈâõÁ≠Ü',
                    confidence: 87,
                    description: 'ÈâõÁ≠Ü„Åß„Åô„ÄÇÈªíÈâõ„ÅßÊñáÂ≠ó„ÇíÊõ∏„ÅèÁ≠ÜË®òÁî®ÂÖ∑„Åß„Åô„ÄÇÊ∂à„Åó„Ç¥„É†„ÅßÊ∂à„Åô„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ',
                    category: 'ÊñáÊàøÂÖ∑',
                    tips: 'HB„Åå‰∏ÄËà¨ÁöÑ„ÄÅH„ÅØËñÑ„Åè„ÄÅB„ÅØÊøÉ„ÅÑ'
                },
                {
                    name: 'Ê∂à„Åó„Ç¥„É†',
                    confidence: 86,
                    description: 'Ê∂à„Åó„Ç¥„É†„Åß„Åô„ÄÇÈâõÁ≠Ü„ÅßÊõ∏„ÅÑ„ÅüÊñáÂ≠ó„ÇíÊ∂à„Åô„ÅÆ„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ',
                    category: 'ÊñáÊàøÂÖ∑',
                    usage: 'ÈâõÁ≠ÜÂ∞ÇÁî®„ÄÅ„Éú„Éº„É´„Éö„É≥„ÅØÊ∂à„Åõ„Åæ„Åõ„Çì'
                },
                {
                    name: '„Éé„Éº„Éà',
                    confidence: 89,
                    description: '„Éé„Éº„Éà„Åß„Åô„ÄÇÊñáÂ≠ó„ÇÑÂõ≥„ÇíÊõ∏„ÅÑ„Å¶Ë®òÈå≤„Åô„Çã„Åü„ÇÅ„ÅÆÂÜäÂ≠ê„Åß„Åô„ÄÇÂãâÂº∑„ÇÑ‰ªï‰∫ã„Å´Ê¨†„Åã„Åõ„Åæ„Åõ„Çì„ÄÇ',
                    category: 'ÊñáÊàøÂÖ∑',
                    types: 'Â§ßÂ≠¶„Éé„Éº„Éà„ÄÅÊñπÁúº„Éé„Éº„Éà„Å™„Å©'
                },
                {
                    name: '„ÅØ„Åï„Åø',
                    confidence: 91,
                    description: '„ÅØ„Åï„Åø„Åß„Åô„ÄÇÁ¥ô„ÇÑÂ∏É„ÇíÂàá„Çã„ÅÆ„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇÂèñ„ÇäÊâ±„ÅÑ„Å´„ÅØÊ≥®ÊÑè„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
                    category: 'ÊñáÊàøÂÖ∑',
                    safety: 'ÂàÉÁâ©„Å™„ÅÆ„Åß‰∏ÅÂØß„Å´Êâ±„ÅÑ„Åæ„Åó„Çá„ÅÜ'
                },
                
                // È£üÂô®„Éª„Ç≠„ÉÉ„ÉÅ„É≥Áî®ÂìÅ
                {
                    name: '„ÅäÁöø',
                    confidence: 93,
                    description: 'Èô∂Âô®„ÅÆ„ÅäÁöø„Åß„Åô„ÄÇÈ£ü‰∫ã„ÇíÁõõ„Çä‰ªò„Åë„Çã„ÅÆ„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇÈ£üÂô®Ê¥ó„ÅÑ„ÅÆÈöõ„ÅØÂâ≤„Çâ„Å™„ÅÑ„Çà„ÅÜÊ≥®ÊÑè„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
                    category: 'È£üÂô®',
                    care: 'È£üÂæå„ÅØ„Åô„Åê„Å´Ê¥ó„ÅÑ„Åæ„Åó„Çá„ÅÜ'
                },
                {
                    name: '„Ç≥„ÉÉ„Éó',
                    confidence: 92,
                    description: '„Ç¨„É©„Çπ„Åæ„Åü„ÅØ„Éó„É©„Çπ„ÉÅ„ÉÉ„ÇØË£Ω„ÅÆ„Ç≥„ÉÉ„Éó„Åß„Åô„ÄÇÈ£≤„ÅøÁâ©„ÇíÂÖ•„Çå„Çã„ÅÆ„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ',
                    category: 'È£üÂô®',
                    usage: 'ÂÜ∑„Åü„ÅÑÈ£≤„ÅøÁâ©„ÄÅÂ∏∏Ê∏©„ÅÆÈ£≤„ÅøÁâ©'
                },
                {
                    name: '„Éï„Ç©„Éº„ÇØ',
                    confidence: 89,
                    description: '„Éï„Ç©„Éº„ÇØ„Åß„Åô„ÄÇË•øÊ¥ãÊñôÁêÜ„ÇíÈ£ü„Åπ„Çã„Å®„Åç„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇÂÖàÁ´Ø„ÅåÂ∞ñ„Å£„Å¶„ÅÑ„Çã„ÅÆ„ÅßÊ≥®ÊÑè„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
                    category: 'È£üÂô®',
                    usage: '„Éë„Çπ„Çø„ÄÅ„Çµ„É©„ÉÄ„ÄÅËÇâÊñôÁêÜ„Å™„Å©'
                },
                {
                    name: '„Çπ„Éó„Éº„É≥',
                    confidence: 90,
                    description: '„Çπ„Éó„Éº„É≥„Åß„Åô„ÄÇ„Çπ„Éº„Éó„ÇÑ„Ç´„É¨„Éº„ÄÅ„Ç¢„Ç§„Çπ„ÇØ„É™„Éº„É†„Å™„Å©„ÇíÈ£ü„Åπ„Çã„ÅÆ„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ',
                    category: 'È£üÂô®',
                    usage: 'Ê∂≤‰Ωì„ÇÑÊüî„Çâ„Åã„ÅÑÈ£ü„ÅπÁâ©'
                },
                
                // Ë∫´„ÅÆÂõû„ÇäÂìÅ
                {
                    name: '„É°„Ç¨„Éç',
                    confidence: 87,
                    description: 'ÁúºÈè°„Åß„Åô„ÄÇË¶ñÂäõÁüØÊ≠£„ÇÑÁõÆ„ÅÆ‰øùË≠∑„ÅÆ„Åü„ÇÅ„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ„É¨„É≥„Ç∫„Å®„Éï„É¨„Éº„É†„ÅßÊßãÊàê„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
                    category: 'Ë∫´„ÅÆÂõû„ÇäÂìÅ',
                    care: '„É¨„É≥„Ç∫„ÅØÂ∞ÇÁî®„ÇØ„É≠„Çπ„ÅßÊ∏ÖÊã≠'
                },
                {
                    name: 'ËÖïÊôÇË®à',
                    confidence: 91,
                    description: 'ËÖïÊôÇË®à„Åß„Åô„ÄÇÊôÇÈñì„ÇíÁ¢∫Ë™ç„Åô„Çã„Åü„ÇÅ„Å´ÊâãÈ¶ñ„Å´ÁùÄÁî®„Åó„Åæ„Åô„ÄÇ„Ç¢„Éä„É≠„Ç∞„Åæ„Åü„ÅØ„Éá„Ç∏„Çø„É´Ë°®Á§∫„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ',
                    category: 'Ë∫´„ÅÆÂõû„ÇäÂìÅ',
                    function: 'ÊôÇÈñìË°®Á§∫„ÄÅÊó•‰ªòË°®Á§∫'
                },
                {
                    name: 'Ë≤°Â∏É',
                    confidence: 88,
                    description: 'Ë≤°Â∏É„Åß„Åô„ÄÇ„ÅäÈáë„ÇÑ„Ç´„Éº„Éâ„ÇíÂÖ•„Çå„Å¶ÊåÅ„Å°ÈÅã„Å∂„Åü„ÇÅ„ÅÆ„Ç¢„Ç§„ÉÜ„É†„Åß„Åô„ÄÇÁ¥õÂ§±„Å´Ê≥®ÊÑè„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
                    category: 'Ë∫´„ÅÆÂõû„ÇäÂìÅ',
                    safety: 'Ë≤¥ÈáçÂìÅ„Å™„ÅÆ„ÅßÂ§ßÂàá„Å´ÁÆ°ÁêÜ'
                },
                {
                    name: 'Èçµ',
                    confidence: 94,
                    description: 'Èçµ„Åß„Åô„ÄÇÂÆ∂„ÇÑËªä„ÅÆ„Éâ„Ç¢„ÇíÈñã„ÅëÈñâ„ÇÅ„Åô„Çã„ÅÆ„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇÁ¥õÂ§±„Åô„Çã„Å®Â§ßÂ§âÂõ∞„Çã„ÅÆ„ÅßÊ≥®ÊÑèÊ∑±„ÅèÁÆ°ÁêÜ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
                    category: 'Ë∫´„ÅÆÂõû„ÇäÂìÅ',
                    safety: 'Á¥õÂ§±„Å´ÂçÅÂàÜÊ≥®ÊÑè„Åó„Å¶„Åè„Å†„Åï„ÅÑ'
                },
                {
                    name: '„Éû„Çπ„ÇØ',
                    confidence: 93,
                    description: '‰∏çÁπîÂ∏É„Éû„Çπ„ÇØ„Åß„Åô„ÄÇÊÑüÊüìÁóá‰∫àÈò≤„ÇÑËä±Á≤âÂØæÁ≠ñ„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ‰Ωø„ÅÑÊç®„Å¶„Çø„Ç§„Éó„Åå‰∏ÄËà¨ÁöÑ„Åß„Åô„ÄÇ',
                    category: 'Ë°õÁîüÁî®ÂìÅ',
                    usage: 'Â§ñÂá∫ÊôÇ„ÄÅ‰∫∫Ê∑∑„Åø„ÅßÁùÄÁî®'
                },
                
                // Ê§çÁâ©„ÉªËá™ÁÑ∂
                {
                    name: 'Ëä±',
                    confidence: 89,
                    description: 'Áæé„Åó„ÅÑËä±„Åß„Åô„ÄÇÊ§çÁâ©„ÅÆÁîüÊÆñÂô®ÂÆò„Åß„ÄÅËâ≤„Å®„Çä„Å©„Çä„ÅÆËä±„Å≥„Çâ„ÅåÁâπÂæ¥ÁöÑ„Åß„Åô„ÄÇÈ¶ô„Çä„ÅßÂøÉ„ÇíÁôí„Åó„Å¶„Åè„Çå„Åæ„Åô„ÄÇ',
                    category: 'Ê§çÁâ©',
                    effect: 'Ë£ÖÈ£æ„ÄÅÁôí„ÅóÂäπÊûú„ÄÅËä≥È¶ô'
                },
                {
                    name: 'Ë¶≥ËëâÊ§çÁâ©',
                    confidence: 86,
                    description: 'Ë¶≥ËëâÊ§çÁâ©„Åß„Åô„ÄÇÂÆ§ÂÜÖ„ÅßËÇ≤„Å¶„ÇãÁ∑ë„ÅÆÊ§çÁâ©„Åß„ÄÅÁ©∫Ê∞óÊ∏ÖÊµÑÂäπÊûú„ÇÑ„É™„É©„ÉÉ„ÇØ„ÇπÂäπÊûú„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ',
                    category: 'Ê§çÁâ©',
                    care: 'ÈÅ©Â∫¶„Å™Ê∞¥„ÇÑ„Çä„Å®Êó•ÂÖâ„ÅåÂøÖË¶Å'
                },
                
                // Êú¨„ÉªÊõ∏Á±ç
                {
                    name: 'Êú¨',
                    confidence: 90,
                    description: 'Êõ∏Á±ç„Åß„Åô„ÄÇÁü•Ë≠ò„ÇÑÁâ©Ë™û„ÅåÊñáÂ≠ó„ÅßË®òÈå≤„Åï„Çå„Å¶„Åä„Çä„ÄÅË™≠Êõ∏„Å´„Çà„ÇäÂ≠¶Áøí„ÇÑÂ®ØÊ•Ω„ÇíÂæó„Çâ„Çå„Åæ„Åô„ÄÇ',
                    category: 'Êõ∏Á±ç',
                    purpose: 'Ë™≠Êõ∏„ÄÅÂ≠¶Áøí„ÄÅÂ®ØÊ•Ω'
                },
                {
                    name: 'ÈõëË™å',
                    confidence: 88,
                    description: 'ÈõëË™å„Åß„Åô„ÄÇÂÆöÊúüÂàäË°åÁâ©„Åß„ÄÅÊúÄÊñ∞„ÅÆÊÉÖÂ†±„ÇÑË©±È°å„ÇíÊâ±„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ',
                    category: 'Êõ∏Á±ç',
                    content: '„Éã„É•„Éº„Çπ„ÄÅ„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥„ÄÅË∂£Âë≥„Å™„Å©'
                },
                {
                    name: 'Êñ∞ËÅû',
                    confidence: 87,
                    description: 'Êñ∞ËÅû„Åß„Åô„ÄÇÊó•„ÄÖ„ÅÆ„Éã„É•„Éº„Çπ„ÇÑÊÉÖÂ†±„Çí‰ºù„Åà„ÇãÂç∞Âà∑Â™í‰Ωì„Åß„Åô„ÄÇ',
                    category: 'Êõ∏Á±ç',
                    content: 'ÊôÇ‰∫ã„Éã„É•„Éº„Çπ„ÄÅÁµåÊ∏à„ÄÅ„Çπ„Éù„Éº„ÉÑ'
                },
                
                // Ëñ¨„ÉªÂåªÁôÇÁî®ÂìÅ
                {
                    name: 'Ëñ¨',
                    confidence: 92,
                    description: 'Ëñ¨„Åß„Åô„ÄÇÂÅ•Â∫∑Á∂≠ÊåÅ„ÇÑÁóÖÊ∞óÊ≤ªÁôÇ„ÅÆ„Åü„ÇÅ„Å´ÊúçÁî®„Åó„Åæ„Åô„ÄÇÁî®Ê≥ï„ÉªÁî®Èáè„ÇíÂÆà„Å£„Å¶Ê≠£„Åó„Åè‰ΩøÁî®„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ',
                    category: 'ÂåªÁôÇÁî®ÂìÅ',
                    safety: 'Áî®Ê≥ï„ÉªÁî®Èáè„ÇíÂé≥ÂÆà„Åó„Å¶„Åè„Å†„Åï„ÅÑ'
                },
                {
                    name: '‰ΩìÊ∏©Ë®à',
                    confidence: 89,
                    description: '‰ΩìÊ∏©Ë®à„Åß„Åô„ÄÇ‰ΩìÊ∏©„ÇíÊ∏¨ÂÆö„Åô„ÇãÂåªÁôÇÊ©üÂô®„Åß„Åô„ÄÇÂÅ•Â∫∑ÁÆ°ÁêÜ„Å´ÈáçË¶Å„Å™„Ç¢„Ç§„ÉÜ„É†„Åß„Åô„ÄÇ',
                    category: 'ÂåªÁôÇÁî®ÂìÅ',
                    usage: 'ËÑá„ÅÆ‰∏ã„ÄÅÂè£‰∏≠„ÄÅËÄ≥„ÅßÊ∏¨ÂÆö'
                },
                
                // Ë°£È°û
                {
                    name: 'T„Ç∑„É£„ÉÑ',
                    confidence: 85,
                    description: 'T„Ç∑„É£„ÉÑ„Åß„Åô„ÄÇ„Ç´„Ç∏„É•„Ç¢„É´„Å™‰∏äÁùÄ„Å®„Åó„Å¶Â∫É„ÅèÁùÄÁî®„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇÁ∂øÁ¥†Êùê„Åå‰∏ÄËà¨ÁöÑ„Åß„Åô„ÄÇ',
                    category: 'Ë°£È°û',
                    care: 'Ê¥óÊøØÊ©ü„ÅßÊ¥óÊøØÂèØËÉΩ'
                },
                {
                    name: 'Èù¥‰∏ã',
                    confidence: 84,
                    description: 'Èù¥‰∏ã„Åß„Åô„ÄÇË∂≥„Å´Â±•„ÅèË°£È°û„Åß„ÄÅÈù¥„Å®„ÅÆÊë©Êì¶„ÇíÈò≤„Åé„ÄÅË∂≥„Çí‰øùË≠∑„Åó„Åæ„Åô„ÄÇ',
                    category: 'Ë°£È°û',
                    tips: 'ÊØéÊó•Ê∏ÖÊΩî„Å™„ÇÇ„ÅÆ„Å´Â±•„ÅçÊõø„Åà„Çã'
                },
                {
                    name: 'Â∏ΩÂ≠ê',
                    confidence: 86,
                    description: 'Â∏ΩÂ≠ê„Åß„Åô„ÄÇÈ†≠ÈÉ®„Çí‰øùË≠∑„Åó„ÄÅÊó•Â∑Æ„Åó„Åã„ÇâÂÆà„Çä„Åæ„Åô„ÄÇ„Éï„Ç°„ÉÉ„Ç∑„Éß„É≥„Ç¢„Ç§„ÉÜ„É†„Å®„Åó„Å¶„ÇÇ‰∫∫Ê∞ó„Åß„Åô„ÄÇ',
                    category: 'Ë°£È°û',
                    purpose: 'Êó•Èô§„Åë„ÄÅÈò≤ÂØí„ÄÅ„Åä„Åó„ÇÉ„Çå'
                },
                
                // Ê∏ÖÊéÉÁî®ÂìÅ
                {
                    name: 'ÊéÉÈô§Ê©ü',
                    confidence: 91,
                    description: 'ÊéÉÈô§Ê©ü„Åß„Åô„ÄÇÂ∫ä„ÅÆ„Ç¥„Éü„ÇÑ„Åª„Åì„Çä„ÇíÂê∏Âºï„Åó„Å¶Ê∏ÖÊéÉ„Åô„ÇãÂÆ∂Èõª„Åß„Åô„ÄÇ',
                    category: 'ÂÆ∂Èõª',
                    usage: '„Ç´„Éº„Éö„ÉÉ„Éà„ÄÅ„Éï„É≠„Éº„É™„É≥„Ç∞„ÅÆÊ∏ÖÊéÉ'
                },
                {
                    name: '„Åª„ÅÜ„Åç',
                    confidence: 88,
                    description: '„Åª„ÅÜ„Åç„Åß„Åô„ÄÇÂ∫ä„ÇíÊéÉÈô§„Åô„Çã„Åü„ÇÅ„ÅÆÊ∏ÖÊéÉÁî®ÂÖ∑„Åß„Åô„ÄÇÈõªÊ∞ó„Çí‰Ωø„Çè„Å™„ÅÑÊòî„Å™„Åå„Çâ„ÅÆÈÅìÂÖ∑„Åß„Åô„ÄÇ',
                    category: 'Ê∏ÖÊéÉÁî®ÂìÅ',
                    eco: 'ÈõªÊ∞ó‰∏çË¶Å„ÅßÁí∞Â¢É„Å´ÂÑ™„Åó„ÅÑ'
                },
                
                // „Åù„ÅÆ‰ªñÊó•Â∏∏ÂìÅ
                {
                    name: 'ÈõªÊ±†',
                    confidence: 90,
                    description: '‰πæÈõªÊ±†„Åß„Åô„ÄÇÊßò„ÄÖ„Å™ÈõªÂ≠êÊ©üÂô®„ÅÆÈõªÊ∫ê„Å®„Åó„Å¶‰ΩøÁî®„Åó„Åæ„Åô„ÄÇÂçò1„Åã„ÇâÂçò4„Åæ„ÅßÂêÑÁ®Æ„Çµ„Ç§„Ç∫„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ',
                    category: 'ÈõªÂ≠êÈÉ®ÂìÅ',
                    disposal: '‰ΩøÁî®Âæå„ÅØÈÅ©Âàá„Å´„É™„Çµ„Ç§„ÇØ„É´'
                },
                {
                    name: '„Ç´„É°„É©',
                    confidence: 93,
                    description: '„Éá„Ç∏„Çø„É´„Ç´„É°„É©„Åß„Åô„ÄÇÂÜôÁúü„ÇÑÂãïÁîª„ÇíÊíÆÂΩ±„Åô„ÇãÊ©üÂô®„Åß„Åô„ÄÇÊÄù„ÅÑÂá∫„ÇíË®òÈå≤„Åô„Çã„ÅÆ„Å´ÈáçË¶Å„Åß„Åô„ÄÇ',
                    category: 'ÈõªÂ≠êÊ©üÂô®',
                    usage: 'ÂÜôÁúüÊíÆÂΩ±„ÄÅÂãïÁîªÊíÆÂΩ±'
                },
                {
                    name: '„Ç´„É¨„É≥„ÉÄ„Éº',
                    confidence: 87,
                    description: '„Ç´„É¨„É≥„ÉÄ„Éº„Åß„Åô„ÄÇÊó•‰ªò„ÇÑÊõúÊó•„ÇíÁ¢∫Ë™ç„Åô„Çã„Åü„ÇÅ„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ‰∫àÂÆöÁÆ°ÁêÜ„Å´„ÇÇ‰æøÂà©„Åß„Åô„ÄÇ',
                    category: '‰∫ãÂãôÁî®ÂìÅ',
                    usage: 'Êó•‰ªòÁ¢∫Ë™ç„ÄÅ„Çπ„Ç±„Ç∏„É•„Éº„É´ÁÆ°ÁêÜ'
                }
            ];
            
            // „Çà„ÇäË©≥Á¥∞„Å™ÁîªÂÉèËß£Êûê„Ç∑„Éü„É•„É¨„Éº„Ç∑„Éß„É≥
            const result = comprehensiveRecognitionResults[Math.floor(Math.random() * comprehensiveRecognitionResults.length)];
            
            // ‰ø°È†ºÂ∫¶„ÇíÂ∞ë„Åó„É©„É≥„ÉÄ„É†Âåñ
            result.confidence = Math.max(75, result.confidence + Math.floor(Math.random() * 10) - 5);
            
            // Âá¶ÁêÜÊôÇÈñì„Çí„Ç∑„Éü„É•„É¨„Éº„Éà
            await new Promise(resolve => setTimeout(resolve, 1500 + Math.random() * 1500));
            
            currentRecognitionResult = result;
            displayRecognitionResult(result);
        }
        
        // API„Ç≠„ÉºÁÆ°ÁêÜ
        function getStoredAPIKey() {
            return localStorage.getItem('googleVisionAPIKey');
        }
        
        function setAPIKey() {
            const apiKey = prompt('Google Vision API„Ç≠„Éº„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ:\n\n1. Google Cloud Console„Åß„Éó„É≠„Ç∏„Çß„ÇØ„Éà‰ΩúÊàê\n2. Vision API„ÇíÊúâÂäπÂåñ\n3. Ë™çË®ºÊÉÖÂ†±„ÅßAPI„Ç≠„Éº‰ΩúÊàê\n4. „Åù„ÅÆAPI„Ç≠„Éº„Çí„Åì„Åì„Å´ÂÖ•Âäõ');
            if (apiKey && apiKey.trim()) {
                localStorage.setItem('googleVisionAPIKey', apiKey.trim());
                alert('API„Ç≠„Éº„Åå‰øùÂ≠ò„Åï„Çå„Åæ„Åó„ÅüÔºÅÊ¨°Âõû„Åã„ÇâÂÆüÈöõ„ÅÆAIË™çË≠ò„Çí‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ');
                return apiKey.trim();
            }
            return null;
        }
        
        async function callGoogleVisionAPI(imageData) {
            let apiKey = getStoredAPIKey();
            
            // API„Ç≠„Éº„ÅåÊú™Ë®≠ÂÆö„ÅÆÂ†¥Âêà„ÄÅË®≠ÂÆö„Çí‰øÉ„Åô
            if (!apiKey) {
                const shouldSetup = confirm('„Çà„ÇäÈ´òÁ≤æÂ∫¶„Å™Ë™çË≠ò„ÅÆ„Åü„ÇÅ„ÄÅGoogle Vision API„Çí‰ΩøÁî®„Åó„Åæ„Åô„ÅãÔºü\n\n„ÄåOK„Äç= API„Ç≠„ÉºË®≠ÂÆö\n„Äå„Ç≠„É£„É≥„Çª„É´„Äç= „Éá„É¢ÁâàÁ∂ôÁ∂ö');
                if (shouldSetup) {
                    apiKey = setAPIKey();
                }
                if (!apiKey) {
                    return null; // „É¢„ÉÉ„ÇØË™çË≠ò„Å´„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
                }
            }
            
            try {
                const base64Image = imageData.split(',')[1];
                
                // CORSÂïèÈ°å„ÇíÂõûÈÅø„Åô„Çã„Åü„ÇÅ„ÄÅË§áÊï∞„ÅÆÊñπÊ≥ï„ÇíË©¶Ë°å
                let response;
                let errorDetails = '';
                
                // ÊñπÊ≥ï1: Áõ¥Êé•APIÂëº„Å≥Âá∫„Åó
                try {
                    response = await fetch(`https://vision.googleapis.com/v1/images:annotate?key=${apiKey}`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            requests: [{
                                image: {
                                    content: base64Image
                                },
                                features: [
                                    { type: 'LABEL_DETECTION', maxResults: 10 },
                                    { type: 'OBJECT_LOCALIZATION', maxResults: 10 },
                                    { type: 'TEXT_DETECTION', maxResults: 5 }
                                ]
                            }]
                        })
                    });
                } catch (corsError) {
                    console.warn('CORS Error detected:', corsError);
                    errorDetails = 'CORSÂà∂Èôê„Å´„Çà„Çä„Éñ„É©„Ç¶„Ç∂„Åã„ÇâÁõ¥Êé•API„ÇíÂëº„Å≥Âá∫„Åõ„Åæ„Åõ„Çì„ÄÇ';
                    throw new Error(errorDetails);
                }
                
                if (!response.ok) {
                    const errorText = await response.text();
                    console.error('API Response Error:', response.status, errorText);
                    
                    if (response.status === 403) {
                        errorDetails = `APIË™çË®º„Ç®„É©„Éº (403): \n- API„Ç≠„Éº„ÅåÁÑ°Âäπ„Åæ„Åü„ÅØÂà∂Èôê„Åï„Çå„Å¶„ÅÑ„Åæ„Åô\n- Vision API„ÅåÊúâÂäπÂåñ„Åï„Çå„Å¶„ÅÑ„Å™„ÅÑÂèØËÉΩÊÄß\n- Ë´ãÊ±ÇË®≠ÂÆö„ÅåÂøÖË¶Å„Å™Â†¥Âêà„Åå„ÅÇ„Çä„Åæ„Åô`;
                    } else if (response.status === 429) {
                        errorDetails = `„É¨„Éº„ÉàÂà∂Èôê„Ç®„É©„Éº (429): \n- Êúà1000Âõû„ÅÆÁÑ°ÊñôÊû†„ÇíË∂ÖÈÅé\n- ‰∏ÄÊôÇÁöÑ„Å´„Ç¢„ÇØ„Çª„ÇπÂà∂Èôê‰∏≠`;
                    } else {
                        errorDetails = `API Error: ${response.status} ${response.statusText}\n${errorText}`;
                    }
                    
                    throw new Error(errorDetails);
                }
                
                const data = await response.json();
                console.log('Vision API Response:', data);
                
                if (data.responses && data.responses[0]) {
                    const result = processVisionAPIResponse(data.responses[0]);
                    if (result) {
                        return result;
                    }
                }
                
                throw new Error('ÊúâÂäπ„Å™Ë™çË≠òÁµêÊûú„ÅåÂæó„Çâ„Çå„Åæ„Åõ„Çì„Åß„Åó„Åü');
                
            } catch (error) {
                console.error('Google Vision API „Ç®„É©„Éº:', error);
                
                // CORS„Ç®„É©„Éº„ÅÆÂ†¥Âêà„ÅØÁâπÂà•„Å™Ê°àÂÜÖ
                if (error.message.includes('CORS')) {
                    alert(`üåê „Éñ„É©„Ç¶„Ç∂Âà∂Èôê„Ç®„É©„Éº\n\n${error.message}\n\nËß£Ê±∫Á≠ñ:\n1. ChromeÊã°ÂºµÊ©üËÉΩ„ÅßCORSÁÑ°ÂäπÂåñ\n2. „Çµ„Éº„Éê„ÉºÁµåÁî±„Åß„ÅÆAPIÂëº„Å≥Âá∫„Åó\n3. „Éá„É¢Áâà„Åß„ÅÆÁ∂ôÁ∂öÂà©Áî®\n\n‰ªäÂõû„ÅØ„Éá„É¢Áâà„ÅßÁ∂öË°å„Åó„Åæ„Åô„ÄÇ`);
                    return null;
                }
                
                // „Åù„ÅÆ‰ªñ„ÅÆAPI„Ç®„É©„Éº„ÅÆÂ†¥Âêà
                const retry = confirm(`üö´ AIË™çË≠ò„Ç®„É©„Éº\n\n${error.message}\n\nÂØæÂá¶Ê≥ï:\n- Google Cloud Console„ÅßAPIË®≠ÂÆöÁ¢∫Ë™ç\n- Ë´ãÊ±ÇË®≠ÂÆö„ÅÆÊúâÂäπÂåñ\n- API„Ç≠„Éº„ÅÆÊ®©ÈôêÁ¢∫Ë™ç\n\n„ÄåOK„Äç= API„Ç≠„ÉºÂÜçË®≠ÂÆö\n„Äå„Ç≠„É£„É≥„Çª„É´„Äç= „Éá„É¢Áâà„ÅßÁ∂öË°å`);
                
                if (retry) {
                    // API„Ç≠„Éº„Çí„ÇØ„É™„Ç¢„Åó„Å¶ÂÜçË®≠ÂÆö„Çí‰øÉ„Åô
                    localStorage.removeItem('googleVisionAPIKey');
                    const newApiKey = setAPIKey();
                    if (newApiKey) {
                        return await callGoogleVisionAPI(imageData); // ÂÜçË©¶Ë°å
                    }
                }
                
                return null; // „É¢„ÉÉ„ÇØË™çË≠ò„Å´„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
            }
        }
        
        function processVisionAPIResponse(response) {
            let bestResult = null;
            let bestScore = 0;
            
            // „É©„Éô„É´Ê§úÂá∫ÁµêÊûú„ÇíÂá¶ÁêÜ
            if (response.labelAnnotations && response.labelAnnotations.length > 0) {
                const topLabel = response.labelAnnotations[0];
                if (topLabel.score > bestScore) {
                    bestScore = topLabel.score;
                    bestResult = {
                        name: translateToJapanese(topLabel.description),
                        confidence: Math.round(topLabel.score * 100),
                        description: generateDescription(topLabel.description, response.labelAnnotations),
                        category: categorizeObject(topLabel.description),
                        source: 'Google Vision API',
                        rawLabels: response.labelAnnotations.slice(0, 5).map(l => l.description)
                    };
                }
            }
            
            // „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà‰ΩçÁΩÆÊ§úÂá∫ÁµêÊûú„ÇíÂá¶ÁêÜ
            if (response.localizedObjectAnnotations && response.localizedObjectAnnotations.length > 0) {
                const topObject = response.localizedObjectAnnotations[0];
                if (topObject.score > bestScore) {
                    bestScore = topObject.score;
                    bestResult = {
                        name: translateToJapanese(topObject.name),
                        confidence: Math.round(topObject.score * 100),
                        description: generateDescription(topObject.name, response.localizedObjectAnnotations),
                        category: categorizeObject(topObject.name),
                        source: 'Google Vision API',
                        rawLabels: response.localizedObjectAnnotations.slice(0, 5).map(o => o.name)
                    };
                }
            }
            
            // „ÉÜ„Ç≠„Çπ„ÉàÊ§úÂá∫ÁµêÊûú„Åå„ÅÇ„Çå„Å∞ÂèÇËÄÉÊÉÖÂ†±„Å®„Åó„Å¶ËøΩÂä†
            if (response.textAnnotations && response.textAnnotations.length > 0) {
                const detectedText = response.textAnnotations[0].description.trim();
                if (bestResult && detectedText) {
                    bestResult.detectedText = detectedText;
                    bestResult.description += `\n\nüìù ÁîªÂÉèÂÜÖ„ÅÆ„ÉÜ„Ç≠„Çπ„Éà: "${detectedText}"`;
                }
            }
            
            return bestResult;
        }
        
        function translateToJapanese(englishTerm) {
            const translations = {
                // ‰∏ÄËà¨ÁöÑ„Å™Áâ©‰Ωì
                'apple': '„Çä„Çì„Åî',
                'banana': '„Éê„Éä„Éä',
                'orange': '„Ç™„É¨„É≥„Ç∏',
                'bottle': '„Éú„Éà„É´',
                'cup': '„Ç≥„ÉÉ„Éó',
                'mug': '„Éû„Ç∞„Ç´„ÉÉ„Éó',
                'glass': '„Ç∞„É©„Çπ',
                'plate': '„ÅäÁöø',
                'bowl': '„Éú„Ç¶„É´',
                'spoon': '„Çπ„Éó„Éº„É≥',
                'fork': '„Éï„Ç©„Éº„ÇØ',
                'knife': '„Éä„Ç§„Éï',
                'book': 'Êú¨',
                'pen': '„Éö„É≥',
                'pencil': 'ÈâõÁ≠Ü',
                'paper': 'Á¥ô',
                'notebook': '„Éé„Éº„Éà',
                'phone': 'ÈõªË©±',
                'mobile phone': '„Çπ„Éû„Éº„Éà„Éï„Ç©„É≥',
                'smartphone': '„Çπ„Éû„Éº„Éà„Éï„Ç©„É≥',
                'computer': '„Ç≥„É≥„Éî„É•„Éº„Çø„Éº',
                'laptop': '„Éé„Éº„Éà„Éë„ÇΩ„Ç≥„É≥',
                'keyboard': '„Ç≠„Éº„Éú„Éº„Éâ',
                'mouse': '„Éû„Ç¶„Çπ',
                'camera': '„Ç´„É°„É©',
                'television': '„ÉÜ„É¨„Éì',
                'tv': '„ÉÜ„É¨„Éì',
                'remote control': '„É™„É¢„Ç≥„É≥',
                'watch': 'ÊôÇË®à',
                'clock': 'ÊôÇË®à',
                'glasses': '„É°„Ç¨„Éç',
                'sunglasses': '„Çµ„É≥„Ç∞„É©„Çπ',
                'hat': 'Â∏ΩÂ≠ê',
                'cap': '„Ç≠„É£„ÉÉ„Éó',
                'shirt': '„Ç∑„É£„ÉÑ',
                'jacket': '„Ç∏„É£„Ç±„ÉÉ„Éà',
                'shoes': 'Èù¥',
                'bag': '„Éê„ÉÉ„Ç∞',
                'wallet': 'Ë≤°Â∏É',
                'key': 'Èçµ',
                'car': 'Ëªä',
                'bicycle': 'Ëá™Ëª¢Ëªä',
                'umbrella': 'ÂÇò',
                'flower': 'Ëä±',
                'plant': 'Ê§çÁâ©',
                'tree': 'Êú®',
                'cat': 'Áå´',
                'dog': 'Áä¨',
                'bird': 'È≥•',
                'fish': 'È≠ö',
                'food': 'È£ü„ÅπÁâ©',
                'bread': '„Éë„É≥',
                'rice': '„ÅîÈ£Ø',
                'meat': 'ËÇâ',
                'vegetable': 'ÈáéËèú',
                'fruit': 'ÊûúÁâ©',
                'water': 'Ê∞¥',
                'coffee': '„Ç≥„Éº„Éí„Éº',
                'tea': 'Ëå∂',
                'milk': 'Áâõ‰π≥',
                'chair': 'Ê§ÖÂ≠ê',
                'table': '„ÉÜ„Éº„Éñ„É´',
                'desk': 'Êú∫',
                'bed': '„Éô„ÉÉ„Éâ',
                'door': '„Éâ„Ç¢',
                'window': 'Á™ì',
                'wall': 'Â£Å',
                'ceiling': 'Â§©‰∫ï',
                'floor': 'Â∫ä',
                'light': 'ÁÖßÊòé',
                'lamp': '„É©„É≥„Éó',
                'fan': 'ÊâáÈ¢®Ê©ü',
                'heater': '„Éí„Éº„Çø„Éº',
                'air conditioner': '„Ç®„Ç¢„Ç≥„É≥',
                'refrigerator': 'ÂÜ∑ËîµÂ∫´',
                'microwave': 'ÈõªÂ≠ê„É¨„É≥„Ç∏',
                'oven': '„Ç™„Éº„Éñ„É≥',
                'stove': '„Ç≥„É≥„É≠',
                'sink': '„Ç∑„É≥„ÇØ',
                'toilet': '„Éà„Ç§„É¨',
                'bathroom': '„Éê„Çπ„É´„Éº„É†',
                'mirror': 'Èè°',
                'towel': '„Çø„Ç™„É´',
                'soap': 'Áü≥Èπ∏',
                'toothbrush': 'Ê≠Ø„Éñ„É©„Ç∑',
                'medicine': 'Ëñ¨',
                'pill': 'Èå†Ââ§',
                'thermometer': '‰ΩìÊ∏©Ë®à',
                'bandage': 'ÂåÖÂ∏Ø',
                'tissue': '„ÉÜ„Ç£„ÉÉ„Ç∑„É•',
                'scissors': '„ÅØ„Åï„Åø',
                'ruler': 'ÂÆöË¶è',
                'eraser': 'Ê∂à„Åó„Ç¥„É†',
                'stapler': '„Éõ„ÉÅ„Ç≠„Çπ',
                'calculator': 'ÈõªÂçì',
                'calendar': '„Ç´„É¨„É≥„ÉÄ„Éº'
            };
            
            const lower = englishTerm.toLowerCase();
            return translations[lower] || englishTerm;
        }
        
        function categorizeObject(objectName) {
            const categories = {
                'food': ['apple', 'banana', 'orange', 'bread', 'rice', 'meat', 'vegetable', 'fruit', 'food'],
                'drink': ['water', 'coffee', 'tea', 'milk', 'bottle', 'cup', 'mug', 'glass'],
                'electronics': ['phone', 'smartphone', 'computer', 'laptop', 'tv', 'television', 'camera', 'remote'],
                'furniture': ['chair', 'table', 'desk', 'bed'],
                'clothing': ['shirt', 'jacket', 'hat', 'cap', 'shoes'],
                'stationery': ['pen', 'pencil', 'book', 'notebook', 'paper', 'scissors', 'ruler', 'eraser'],
                'personal': ['glasses', 'watch', 'bag', 'wallet', 'key'],
                'kitchen': ['plate', 'bowl', 'spoon', 'fork', 'knife', 'refrigerator', 'microwave', 'stove'],
                'medical': ['medicine', 'pill', 'thermometer', 'bandage'],
                'animals': ['cat', 'dog', 'bird', 'fish'],
                'nature': ['flower', 'plant', 'tree']
            };
            
            const lower = objectName.toLowerCase();
            for (const [category, items] of Object.entries(categories)) {
                if (items.some(item => lower.includes(item))) {
                    return category;
                }
            }
            return '„Åù„ÅÆ‰ªñ';
        }
        
        function generateDescription(objectName, allResults) {
            const japanese = translateToJapanese(objectName);
            const category = categorizeObject(objectName);
            
            // Èñ¢ÈÄ£„Åô„ÇãÊ§úÂá∫ÁµêÊûú„Åã„ÇâËøΩÂä†ÊÉÖÂ†±„ÇíÁîüÊàê
            const relatedItems = allResults.slice(1, 4).map(item => 
                translateToJapanese(item.description || item.name)
            ).filter(item => item !== japanese);
            
            let description = `„Åì„Çå„ÅØ${japanese}„Åß„Åô„ÄÇ`;
            
            // „Ç´„ÉÜ„Ç¥„É™„Å´Âü∫„Å•„ÅÑ„ÅüË™¨ÊòéËøΩÂä†
            const categoryDescriptions = {
                'food': 'È£ü„ÅπÁâ©„Åß„Åô„ÄÇÊ†ÑÈ§ä‰æ°„Åå„ÅÇ„Çä„ÄÅ„Ç®„Éç„É´„ÇÆ„ÉºÊ∫ê„Å´„Å™„Çä„Åæ„Åô„ÄÇ',
                'drink': 'È£≤„ÅøÁâ©„Åß„Åô„ÄÇÊ∞¥ÂàÜË£úÁµ¶„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ',
                'electronics': 'ÈõªÂ≠êÊ©üÂô®„Åß„Åô„ÄÇÊó•Â∏∏ÁîüÊ¥ª„Åß‰æøÂà©„Å´‰ΩøÁî®„Åß„Åç„Åæ„Åô„ÄÇ',
                'furniture': 'ÂÆ∂ÂÖ∑„Åß„Åô„ÄÇÁîüÊ¥ªÁ©∫Èñì„Åß‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ',
                'clothing': 'Ë°£È°û„Åß„Åô„ÄÇË∫´„Å´ÁùÄ„Åë„Çã„ÇÇ„ÅÆ„Åß„Åô„ÄÇ',
                'stationery': 'ÊñáÊàøÂÖ∑„Åß„Åô„ÄÇÊõ∏„ÅçÁâ©„ÇÑ‰∫ãÂãô‰ΩúÊ•≠„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ',
                'personal': 'Ë∫´„ÅÆÂõû„ÇäÂìÅ„Åß„Åô„ÄÇÊó•Â∏∏ÁöÑ„Å´ÊåÅ„Å°Ê≠©„Åè„Ç¢„Ç§„ÉÜ„É†„Åß„Åô„ÄÇ',
                'kitchen': '„Ç≠„ÉÉ„ÉÅ„É≥Áî®ÂìÅ„Åß„Åô„ÄÇÊñôÁêÜ„ÇÑÈ£ü‰∫ã„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ',
                'medical': 'ÂåªÁôÇÁî®ÂìÅ„Åß„Åô„ÄÇÂÅ•Â∫∑ÁÆ°ÁêÜ„Å´‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ',
                'animals': 'ÂãïÁâ©„Åß„Åô„ÄÇÁîü„ÅçÁâ©„Åß„Åô„ÄÇ',
                'nature': 'Ëá™ÁÑ∂„ÅÆ„ÇÇ„ÅÆ„Åß„Åô„ÄÇÊ§çÁâ©„ÇÑËá™ÁÑ∂Áïå„ÅÆ„Ç¢„Ç§„ÉÜ„É†„Åß„Åô„ÄÇ'
            };
            
            if (categoryDescriptions[category]) {
                description += ' ' + categoryDescriptions[category];
            }
            
            // Èñ¢ÈÄ£„Ç¢„Ç§„ÉÜ„É†„Åå„ÅÇ„Çå„Å∞ËøΩÂä†
            if (relatedItems.length > 0) {
                description += `\n\nüîç Èñ¢ÈÄ£„Åô„ÇãË¶ÅÁ¥†: ${relatedItems.join('„ÄÅ')}`;
            }
            
            return description;
        }
        
        function displayRecognitionResult(result) {
            hideLoadingOverlay();
            
            // ÁµêÊûú„Éá„Éº„Çø„ÇíË®≠ÂÆö
            document.getElementById('objectName').textContent = result.name;
            document.getElementById('confidenceScore').textContent = `‰ø°È†ºÂ∫¶: ${result.confidence}%`;
            document.getElementById('objectDescription').textContent = result.description;
            
            // Ë™çË≠ò„Éë„Éç„É´„ÇíË°®Á§∫
            const panel = document.getElementById('recognitionPanel');
            panel.style.display = 'block';
            
            // „Éá„Éê„ÉÉ„Ç∞Áî®„É≠„Ç∞
            console.log('Recognition panel displayed:', panel.style.display);
            console.log('Panel element:', panel);
            
            updateStatus(`Ë™çË≠òÂÆå‰∫Ü: ${result.name}`);
            
            // ÁµêÊûú„ÇíÈü≥Â£∞„ÅßË™≠„Åø‰∏ä„Åí
            speak(`„Åì„Çå„ÅØ${result.name}„Åß„Åô„ÄÇ${result.description}`);
            
            // 5ÁßíÂæå„Å´Ëá™ÂãïÁöÑ„Å´„Ç´„É°„É©„Éì„É•„Éº„Å´Êàª„ÇãÔºàÈ´òÈΩ¢ËÄÖÂêë„ÅëÈÖçÊÖÆÔºâ
            setTimeout(() => {
                if (currentRecognitionResult) { // „Åæ„Å†ÁµêÊûúÁîªÈù¢„Å´„ÅÑ„ÇãÂ†¥Âêà„ÅÆ„Åø
                    resetCameraView();
                    speak('Á∂ö„Åë„Å¶ÊíÆÂΩ±„Åß„Åç„Åæ„Åô');
                }
            }, 5000);
        }
        
        function showLoadingOverlay() {
            document.getElementById('loadingOverlay').style.display = 'flex';
        }
        
        function hideLoadingOverlay() {
            document.getElementById('loadingOverlay').style.display = 'none';
        }
        
        function retryCapture() {
            resetCameraView();
        }
        
        function resetCameraView() {
            const video = document.getElementById('cameraVideo');
            const capturedImage = document.getElementById('capturedImage');
            const recognitionPanel = document.getElementById('recognitionPanel');
            
            // „É©„Ç§„Éñ„Ç´„É°„É©Ë°®Á§∫„Å´Êàª„Åô
            video.style.display = 'block';
            capturedImage.style.display = 'none';
            recognitionPanel.style.display = 'none';
            
            // „Éá„Éº„Çø„Çí„ÇØ„É™„Ç¢
            capturedImageData = null;
            currentRecognitionResult = null;
            
            // „É≠„Éº„Éá„Ç£„É≥„Ç∞Áä∂ÊÖã„ÇÇËß£Èô§
            hideLoadingOverlay();
            
            updateStatus('Áâ©‰Ωì„Çí„Éï„É¨„Éº„É†ÂÜÖ„Å´Âèé„ÇÅ„Å¶ÊíÆÂΩ±„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
            
            // ÊíÆÂΩ±„Éú„Çø„É≥„ÇíÂÜçÂ∫¶ÊúâÂäπÂåñ
            const captureBtn = document.getElementById('captureBtn');
            captureBtn.disabled = false;
            captureBtn.style.opacity = '1';
        }
        
        function saveToFavorites() {
            if (!currentRecognitionResult || !capturedImageData) return;
            
            try {
                // „É≠„Éº„Ç´„É´„Çπ„Éà„É¨„Éº„Ç∏„Å´‰øùÂ≠ò
                let favorites = JSON.parse(localStorage.getItem('aiRecognitionFavorites') || '[]');
                
                const favoriteItem = {
                    id: Date.now(),
                    timestamp: new Date().toISOString(),
                    result: currentRecognitionResult,
                    image: capturedImageData
                };
                
                favorites.unshift(favoriteItem);
                
                // ÊúÄÂ§ß50‰ª∂„Åæ„Åß‰øùÂ≠ò
                if (favorites.length > 50) {
                    favorites = favorites.slice(0, 50);
                }
                
                localStorage.setItem('aiRecognitionFavorites', JSON.stringify(favorites));
                
                alert('üíñ „ÅäÊ∞ó„Å´ÂÖ•„Çä„Å´‰øùÂ≠ò„Åó„Åæ„Åó„ÅüÔºÅ');
                speak('„ÅäÊ∞ó„Å´ÂÖ•„Çä„Å´‰øùÂ≠ò„Åó„Åæ„Åó„Åü');
                
                // ‰øùÂ≠òÂæå„ÄÅËá™ÂãïÁöÑ„Å´„Ç´„É°„É©„Éì„É•„Éº„Å´Êàª„Çã
                setTimeout(() => {
                    resetCameraView();
                }, 1000);
                
            } catch (error) {
                console.error('‰øùÂ≠ò„Ç®„É©„Éº:', error);
                alert('‚ö†Ô∏è ‰øùÂ≠ò„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
            }
        }
        
        function speakResult() {
            if (currentRecognitionResult) {
                speak(`„Åì„Çå„ÅØ${currentRecognitionResult.name}„Åß„Åô„ÄÇ${currentRecognitionResult.description}`);
            }
        }
        
        async function switchCamera() {
            if (!currentStream) return;
            
            updateStatus('„Ç´„É°„É©„ÇíÂàá„ÇäÊõø„Åà„Å¶„ÅÑ„Åæ„Åô...');
            
            // ÁèæÂú®„ÅÆ„Çπ„Éà„É™„Éº„É†„ÇíÂÅúÊ≠¢
            currentStream.getTracks().forEach(track => track.stop());
            
            // „Ç´„É°„É©„ÅÆÂêë„Åç„ÇíÂàá„ÇäÊõø„Åà
            currentFacingMode = currentFacingMode === 'environment' ? 'user' : 'environment';
            
            try {
                const stream = await navigator.mediaDevices.getUserMedia({
                    video: {
                        facingMode: currentFacingMode,
                        width: { ideal: 1280 },
                        height: { ideal: 720 }
                    }
                });
                
                const video = document.getElementById('cameraVideo');
                video.srcObject = stream;
                currentStream = stream;
                
                updateStatus('Áâ©‰Ωì„Çí„Éï„É¨„Éº„É†ÂÜÖ„Å´Âèé„ÇÅ„Å¶ÊíÆÂΩ±„Éú„Çø„É≥„ÇíÊäº„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
                speak('„Ç´„É°„É©„ÇíÂàá„ÇäÊõø„Åà„Åæ„Åó„Åü');
                
            } catch (error) {
                console.error('„Ç´„É°„É©Âàá„ÇäÊõø„Åà„Ç®„É©„Éº:', error);
                updateStatus('„Ç´„É°„É©Âàá„ÇäÊõø„Åà„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
                
                // ÂÖÉ„ÅÆ„Ç´„É°„É©„Å´Êàª„Åô
                currentFacingMode = currentFacingMode === 'environment' ? 'user' : 'environment';
                initializeCamera();
            }
        }
        
        function openGallery() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.style.display = 'none';
            
            input.addEventListener('change', async function(event) {
                const file = event.target.files[0];
                if (file) {
                    updateStatus('ÁîªÂÉè„ÇíË™≠„ÅøËæº„Åø‰∏≠...');
                    
                    const reader = new FileReader();
                    reader.onload = async function(e) {
                        const imageData = e.target.result;
                        capturedImageData = imageData;
                        
                        // ÈÅ∏Êäû„Åó„ÅüÁîªÂÉè„ÇíË°®Á§∫
                        const video = document.getElementById('cameraVideo');
                        const capturedImage = document.getElementById('capturedImage');
                        
                        capturedImage.src = imageData;
                        capturedImage.style.display = 'block';
                        video.style.display = 'none';
                        
                        // AIË™çË≠ò„ÇíÂÆüË°å
                        await performObjectRecognition(imageData);
                    };
                    
                    reader.readAsDataURL(file);
                }
            });
            
            document.body.appendChild(input);
            input.click();
            document.body.removeChild(input);
        }
        
        function goBack() {
            // „Çπ„Éà„É™„Éº„É†„ÇíÂÅúÊ≠¢
            if (currentStream) {
                currentStream.getTracks().forEach(track => track.stop());
            }
            
            // „É°„Ç§„É≥„Éö„Éº„Ç∏„Å´Êàª„Çã
            window.location.href = 'index.html';
        }
        
        // „Éö„Éº„Ç∏„ÇíÈõ¢„Çå„ÇãÊôÇ„Å´„Çπ„Éà„É™„Éº„É†„ÇíÂÅúÊ≠¢
        window.addEventListener('beforeunload', function() {
            if (currentStream) {
                currentStream.getTracks().forEach(track => track.stop());
            }
        });
        
        // „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞
        window.addEventListener('error', function(event) {
            console.error('„Ç¢„Éó„É™„Ç®„É©„Éº:', event.error);
            updateStatus('„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü');
            hideLoadingOverlay();
        });
    </script>
</body>
</html>